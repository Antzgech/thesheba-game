<!DOCTYPE html>
<html lang="am">
<head>
  <meta charset="UTF-8">
  <title>Saba Gift - рІЎрѕГ 3</title>
  <link rel="stylesheet" href="styles.css">
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body>
  <div class="container">
    <h1>­ЪЈє рѕўрїерѕерѕ╗ рІЎрѕГ: рѕхрїдрЅ│ рі«рѕЮрЅБрЅх ­ЪЈє</h1>
    <p>рІГрѕЁ рІЎрѕГ рІеBoss Fight ріљрІЇрЇБ рїаріЋріФрѕФ рїарѕІрЅхріЋ рѕИріљрЇЇ ріЦріЊ рѕхрїдрЅ│рІјрЅйріЋ ріарїЇріЮрЇб</p>

    <!-- Health bar -->
    <div class="health-bar">
      <div id="health" class="health-fill"></div>
    </div>

    <!-- Boss battle buttons -->
    <div class="battle">
      <button class="btn" onclick="bossAttack()">­ЪЉ╣ Boss рїЇрІхрІФ</button>
      <button class="btn" onclick="useBoost('energy')">РџА рѕЎрѕЅ ріЃрІГрѕЇ</button>
      <button class="btn" onclick="useBoost('turbo')">­ЪћЦ рЅ▒рѕГрЅд</button>
      <button class="btn" onclick="useBoost('shield')">­ЪЏА№ИЈ рїІрѕ╗</button>
    </div>

    <p id="status"></p>
    <p><a class="btn" href="index.html">­ЪЈа рІѕрІ░ рѕўріљрѕ╗ рїѕрїй</a></p>
  </div>

  <script>
    let health = 100;
    let turboActive = false;
    let shieldActive = false;
    let score = 0;
    let bossHP = 150; // Boss stronger than player
    const healthBar = document.getElementById("health");
    const status = document.getElementById("status");

    function updateHealth(value) {
      health += value;
      if (health > 100) health = 100;
      if (health < 0) health = 0;
      healthBar.style.width = health + "%";
    }

    function bossAttack() {
      if (shieldActive) {
        status.textContent = "­ЪЏА№ИЈ рїІрѕ╗ рїЅрІ│рЅхріЋ ріарѕЇрЇјрЅ│рѕЇ!";
        shieldActive = false;
      } else {
        updateHealth(-25);
        status.textContent = "­ЪЉ╣ Boss рїЅрІ│рЅх ріарІхрѕГрїјрЅ│рѕЇ!";
      }

      // Player counter attack
      let damage = turboActive ? 30 : 15;
      bossHP -= damage;
      score += damage;
      turboActive = false;

      if (bossHP <= 0) {
        victory();
      } else if (health <= 0) {
        defeat();
      }
    }

    function useBoost(type) {
      if (type === "energy") {
        updateHealth(100 - health);
        status.textContent = "РџА рїцріЊ рІѕрІ░ 100 HP рЅ░рѕўрѕЇрѕирѕЇ!";
      } else if (type === "turbo") {
        turboActive = true;
        status.textContent = "­ЪћЦ рЅ▒рѕГрЅд ріљрЅЃ!";
      } else if (type === "shield") {
        shieldActive = true;
        status.textContent = "­ЪЏА№ИЈ рїІрѕ╗ рЅ░рїарЅђрѕЮ!";
      }
    }

    function victory() {
      status.textContent = "­ЪјЅ ріарѕИріљрЇѕрѕЁ! Boss рЅ░рѕИріљрЇѕрЇБ рѕхрїдрЅ│рІјрЅйріЋ ріарїЇріЮрѕЁ!";
      status.style.color = "green";
      Telegram.WebApp.sendData(JSON.stringify({ level: 3, score: score, result: "victory" }));
    }

    function defeat() {
      status.textContent = "РЮї рЅ░рѕИріљрЇѕрѕЁ! Boss ріарѕИріљрЇѕрѕЁрЇб ріЦріЋрІ░рїѕріЊ рѕъріГрѕГ.";
      status.style.color = "red";
      Telegram.WebApp.sendData(JSON.stringify({ level: 3, score: score, result: "defeat" }));
    }

    // Initialize health bar
    updateHealth(0);
  </script>
</body>
</html>
